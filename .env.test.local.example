# Local Test Environment Configuration
# This file shows how to use local PostgreSQL with pgvector for fast testing
# Copy to .env.test and update DATABASE_URL values to use local database

NODE_ENV=test

# Local PostgreSQL with pgvector (via docker-compose.test.yml)
DATABASE_URL=postgresql://testuser:testpass@localhost:5432/testdb
DATABASE_URL_TEST=postgresql://testuser:testpass@localhost:5432/testdb

# Neon project configuration (not used with local DB but kept for compatibility)
DB_PROJECT_ID=test-project
DB_MAIN_BRANCH=test-main
DB_DEV_BRANCH=test-dev
DB_TEST_BRANCH=test-test

# WebAuthn test configuration
WEBAUTHN_RP_ID=localhost
WEBAUTHN_RP_NAME=Contribux Test
WEBAUTHN_ORIGINS=http://localhost:3000
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_RP_ID=localhost

# OAuth test configuration (mock values that meet validation requirements)
GITHUB_CLIENT_ID=test1234567890abcdef
GITHUB_CLIENT_SECRET=test-github-client-secret-with-sufficient-length-for-testing-purposes-to-meet-40-char-requirement

# JWT configuration for tests
JWT_SECRET=test-jwt-secret-with-sufficient-length-and-entropy-for-testing-purposes-only

# Test-specific debugging
DEBUG_TESTS=false
SKIP_ENV_VALIDATION=false

# Application configuration
PORT=3000
NEXT_PUBLIC_APP_NAME=Contribux Test

# Rate limiting (relaxed for tests)
RATE_LIMIT_MAX=1000
RATE_LIMIT_WINDOW=900

# Vector search test defaults
HNSW_EF_SEARCH=200
VECTOR_SIMILARITY_THRESHOLD=0.7
HYBRID_SEARCH_TEXT_WEIGHT=0.3
HYBRID_SEARCH_VECTOR_WEIGHT=0.7

# Database pool settings for tests
DB_POOL_MIN=2
DB_POOL_MAX=20
DB_POOL_IDLE_TIMEOUT=10000

# Security settings for tests
LOG_LEVEL=error
ENABLE_AUDIT_LOGS=false
ENABLE_WEBAUTHN=true
ENABLE_OAUTH=false
MAINTENANCE_MODE=false

# CORS configuration for tests
CORS_ORIGINS=http://localhost:3000
ALLOWED_REDIRECT_URIS=http://localhost:3000/api/auth/github/callback

# Encryption key for tests (64 hex chars = 32 bytes)
ENCRYPTION_KEY=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef